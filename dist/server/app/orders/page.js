(()=>{var e={};e.id=1569,e.ids=[1569],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},18688:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(67096),a=r(16132),i=r(37284),o=r.n(i),n=r(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43692)),"C:\\Users\\barto\\OneDrive\\Desktop\\stockeado\\stockeado-mvp\\app\\orders\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,11408)),"C:\\Users\\barto\\OneDrive\\Desktop\\stockeado\\stockeado-mvp\\app\\orders\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,35345)),"C:\\Users\\barto\\OneDrive\\Desktop\\stockeado\\stockeado-mvp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\barto\\OneDrive\\Desktop\\stockeado\\stockeado-mvp\\app\\orders\\page.tsx"],m="/orders/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93335:(e,t,r)=>{Promise.resolve().then(r.bind(r,42706))},42706:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>layout});var s=r(30784),a=r(96692),i=r(77761),o=r(57114),n=r(9885),l=r(25105),d=r(17252),c=r(61);r(88677);var m=r(18120),p=r(50975),x=r(99816),u=r.n(x),h=r(11440),g=r.n(h),y=r(7654),j=r(81668),b=r(32186);r(42055),r(49462);let editModal=({order:e})=>{let t=new Date(String(e?.maxDate)),[r,a]=(0,n.useState)(Number(e?.state)),modifyState=async t=>{let r=await (0,m.oW)({_id:e?._id,state:t});null!==r&&a(t)};return(0,s.jsxs)("div",{children:[s.jsx("p",{style:{color:"grey",fontSize:".8rem"},children:"Toca para cambiar el estado de la orden"}),s.jsx("div",{className:"steptsorders",style:{marginTop:"0rem"},children:b.C?.map((e,t)=>s.jsx("div",{style:{cursor:"pointer"},onClick:()=>modifyState(t),className:t>r?"pending":"marked",children:e},t))}),(0,s.jsxs)("div",{style:{display:"flex",marginTop:"3.5rem"},children:[s.jsx("p",{style:{marginRight:".5rem",fontWeight:"700"},children:"Nombre Completo:"}),(0,s.jsxs)("p",{children:[" ",e?.name+" "+e?.lastname]})]}),(0,s.jsxs)("div",{style:{display:"flex",marginTop:".5rem"},children:[s.jsx("p",{style:{marginRight:".5rem",fontWeight:"700"},children:"Fecha maxima de envio:"}),(0,s.jsxs)("p",{children:[" ",t?.getDay(),"/",t?.getMonth(),"/",t?.getFullYear()]})]}),(0,s.jsxs)("div",{style:{display:"flex",marginTop:".5rem"},children:[s.jsx("p",{style:{marginRight:".5rem",fontWeight:"700"},children:"Direcci\xf3n:"}),(0,s.jsxs)("p",{children:[" ",e?.direction]})]}),(0,s.jsxs)("div",{style:{display:"flex",marginTop:".5rem"},children:[s.jsx("p",{style:{marginRight:".5rem",fontWeight:"700"},children:"Tipo de pago:"}),(0,s.jsxs)("p",{children:[" ",e?.payType===0?"Transferencia":"Efectivo"]})]}),"\xb4",e?.state===0&&0===Number(e?.payType)?s.jsx(b.l,{}):s.jsx(s.Fragment,{}),s.jsx("p",{style:{marginRight:".5rem",fontWeight:"700",marginBottom:"1rem",marginTop:"1rem"},children:"Pedido:"}),e?.items?.map((e,t)=>s.jsx("div",{children:s.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",borderBottom:"1px solid rgba(220, 220, 220, .3)"},children:[s.jsx("img",{style:{width:"35px",height:"35px"},src:e?.item?.image,alt:"Product Image"}),s.jsx("p",{style:{maxWidth:"100px",margin:"auto"},className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",children:s.jsxs("p",{style:{minWidth:"250px",margin:"auto"},children:[e?.item?.name," ",j.PX[e?.item?.brand-1]+" "," ",e?.item?.model]})}),s.jsx("p",{className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",children:String(e?.ammount)}),s.jsxs("p",{className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",style:{marginLeft:"4rem",maxWidth:"100px"},children:["s/. ",Number(e?.item?.priceSelling).toFixed(2)]})]})},t)),s.jsx("p",{style:{color:"grey",textAlign:"center"},children:e?.items?.length===0?"No encontramos nada":""}),(0,s.jsxs)("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:[s.jsx("p",{style:{fontSize:"1.1rem"},children:"Total"}),(0,s.jsxs)("p",{children:["s/. ",Number((0,c.m)(e?.items)).toFixed(2)]})]})]})};var f=r(1077),v=r(35655);let layout=()=>{let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(null),[x,h]=(0,n.useState)(),[j,b]=(0,n.useState)(),[_,k]=(0,n.useState)([]),[C,P]=(0,n.useState)([]),[D,S]=(0,n.useState)(""),w=(0,d.h)({nodes:[..._??[]]},{state:{page:0,size:12}}),T=[{label:"Nombre",renderCell:e=>s.jsx("p",{children:e?.name+" "+e?.lastname})},{label:"Direcci\xf3n",renderCell:e=>s.jsx("p",{children:e?.direction})},{label:"Total",renderCell:e=>s.jsx("p",{children:"s/. "+Number((0,c.m)(e?.items)).toFixed(2)})},{label:"Fecha maxima",renderCell:e=>(0,s.jsxs)("p",{children:[new Date(e.maxDate).getDay(),"/",new Date(e.maxDate).getMonth(),"/",new Date(e.maxDate).getFullYear()," ",s.jsx("span",{style:{color:"red"},children:e.state<2?s.jsx(u(),{name:"alert-outline"}):""})]})},{label:"",renderCell:e=>(0,s.jsxs)("div",{style:{display:"flex"},children:[s.jsx("div",{onClick:()=>{},style:{cursor:"pointer",marginRight:".5rem"},children:s.jsx(g(),{style:{fontSize:"1rem",color:"#3662E3",marginLeft:".5rem"},href:"https://stockeado-mvp.vercel.app/marketplace/order?id="+e?._id,children:s.jsx(u(),{name:"eye-outline"})})}),s.jsx("div",{onClick:()=>{b(e),h(!0)},style:{color:"orange",cursor:"pointer"},children:s.jsx(u(),{name:"pencil-outline"})})]})}],toUser=async()=>{let t=await (0,l.PR)();null==t&&e.push("/");let s=await (0,m.AU)(t?._id);console.log(s),k(s),r(t)};(0,n.useEffect)(()=>{toUser()},[]);let q=(0,f.u)([(0,v.g)(),{Table:`
            --data-table-library_grid-template-columns: 100px 200px 100px 100px 100px 100px 100px
          `}]);return(0,s.jsxs)(s.Fragment,{children:[null===t?s.jsx(u(),{name:"chevron-collapse-outline",className:"rotateItem",color:"#1366D9",style:{fontSize:"1.5rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}):s.jsx(a.Z,{user:t,route:"orders",frameContennt:s.jsx("div",{className:"resume",style:{overflow:"hidden"},children:(0,s.jsxs)("div",{children:[s.jsx(p.Z,{orders:_,user:t}),(0,s.jsxs)("div",{style:{padding:"1rem"},children:[(0,s.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[s.jsx("h1",{style:{marginBottom:"1rem",marginTop:".5rem",fontSize:"1rem",fontWeight:"500"},children:"Ordenes finales"}),s.jsx("div",{style:{display:"flex"},children:s.jsx("button",{style:{fontSize:".8rem",border:"1px solid grey",borderRadius:".5rem",padding:".2rem",paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:"transparent",color:"grey"},children:"Crear manual"})})]}),(0,s.jsxs)("div",{className:"input-search",style:{marginTop:"1rem",marginBottom:"1rem"},children:[s.jsx("div",{className:"iconinput",children:s.jsx(u(),{name:"search-outline"})}),s.jsx("input",{placeholder:"Busca por nombre de cliente",type:"text",value:D,onChange:()=>{}}),s.jsx("button",{children:"Buscar"})]}),s.jsx(i._,{theme:q,layout:{custom:!0,horizontalScroll:!0},pagination:w,columns:T,data:{nodes:_?.filter(e=>e?.name.toLowerCase().includes(D.toLowerCase()))}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsxs)("span",{style:{margin:".5rem"},children:["Paginas: ",w.state.getTotalPages(_??[])]}),(0,s.jsxs)("span",{children:["Actual:","  ",w.state.getPages(_??[]).map((e,t)=>(0,s.jsxs)("button",{type:"button",style:{fontWeight:w.state.page===t?"bold":"normal",color:w.state.page===t?"#3662E3":"black",margin:".5rem"},onClick:()=>w.fns.onSetPage(t),children:[t+1," ","  "]},t))]})]})]})]})})}),s.jsx(y.default,{closeIcon:s.jsx(u(),{name:"close"}),styles:{modal:{borderRadius:"1rem",minWidth:"500px",padding:"0rem"},closeIcon:{color:"white !important"},overlay:{backgroundColor:"rgba(220, 217, 217, 0.5)"}},open:x,center:!0,onClose:()=>h(!1),children:s.jsx("div",{style:{padding:"1rem"},children:s.jsx(editModal,{order:j})})})]})}},11408:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>l});var s=r(95153);let a=(0,s.createProxy)(String.raw`C:\Users\barto\OneDrive\Desktop\stockeado\stockeado-mvp\app\orders\layout.tsx`),{__esModule:i,$$typeof:o}=a,n=a.default,l=n},43692:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,metadata:()=>i});var s=r(4656),a=r(11408);let i={title:"Stockeado - Solicitudes finales",description:"Stockeado | Solicitudes finales"},__WEBPACK_DEFAULT_EXPORT__=()=>s.jsx(a.default,{})},49462:()=>{},88677:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[657,3431,4670,4185,4997,9816,3800,8284,7654,894,5655,6903,1231,5105,6692,8120,2186,717],()=>__webpack_exec__(18688));module.exports=r})();