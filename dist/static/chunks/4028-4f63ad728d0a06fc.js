(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4028],{1338:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},o=e.split(n),s=(t||{}).decode||r,a=0;a<o.length;a++){var l=o[a],d=l.indexOf("=");if(!(d<0)){var c=l.substr(0,d).trim(),u=l.substr(++d,l.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(u,s))}}return i},t.q=function(e,t,r){var n=r||{},s=n.encode||i;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!o.test(a))throw TypeError("argument val is invalid");var l=e+"="+a;if(null!=n.maxAge){var d=n.maxAge-0;if(isNaN(d)||!isFinite(d))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(d)}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=decodeURIComponent,i=encodeURIComponent,n=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},2123:function(e,t,r){"use strict";r.d(t,{$v:function(){return c},Dk:function(){return d},RF:function(){return u},RZ:function(){return l},Rd:function(){return s},SI:function(){return a},qU:function(){return o}});var i=r(9110),n=r(7286);let o=async e=>{try{var t;let r=await n.Z.get("/inventoryy/edit",{headers:{id:e}});if((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.deleted)!==void 0)return!0;return!1}catch(e){return!1}},s=async e=>{try{var t;let r=await n.Z.post("/inventoryy",{...e});if((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},a=async e=>{try{var t,r;let i=await n.Z.get("/inventoryy/load",{headers:{id:e}});if(console.log(i),(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.item)!==void 0)return null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.item;return null}catch(e){return null}},l=async e=>{try{var t;let r=await n.Z.post("/inventoryy/load",{items:[...e]});if((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},d=async e=>{try{var t;let r=await n.Z.post("/inventoryy/edit",{...e});if((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},c=async()=>{try{var e;let t=new i.Z,r=t.get("access_token"),o=await n.Z.get("/inventoryy",{headers:{token:r}});return null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.items}catch(e){return null}},u=async e=>{try{let t=await n.Z.get("/inventoryy/marketplace",{headers:{id:e}});return null==t?void 0:t.data}catch(e){return null}}},2131:function(e,t,r){"use strict";r.d(t,{Kb:function(){return o},V_:function(){return n},li:function(){return s}});var i=r(7286);let n=async e=>{try{var t,r;let n=await i.Z.get("/marketplacee",{headers:{token:e}});if((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.items)!==void 0)return null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.items;return null}catch(e){return null}},o=async()=>{try{var e,t;let r=await i.Z.get("/marketplacee/random");if((null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.items)!==void 0)return null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.items;return null}catch(e){return null}},s=async()=>{try{var e,t;let r=await i.Z.get("/marketplacee/mostviewed");if((null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.items)!==void 0)return null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.items;return null}catch(e){return null}}},4028:function(e,t,r){"use strict";r.r(t);var i=r(6705),n=r(2123),o=r(7190),s=r(793),a=r(955);r(947);var l=r(2300);r(6764);var d=r(4033),c=r(2131),u=r(6807),p=r(1550),h=r.n(p),m=r(2071),v=r(2725);t.default=()=>{let e=(0,d.useSearchParams)(),t=e.get("id"),[r,p]=(0,a.useState)(),[g,y]=(0,a.useState)([]),[x,f]=(0,a.useState)(null),[j,b]=(0,a.useState)([]),[k,C]=(0,a.useState)(0),S=async()=>{var e,r;let i=await (0,n.RF)(t);y(null!==(e=null==i?void 0:i.items)&&void 0!==e?e:[]),f(null!==(r=null==i?void 0:i.items)&&void 0!==r?r:[]),p(null==i?void 0:i.user)},w=(e,t)=>{t?f(g.filter(t=>Number(t.brand===e))):f(g)},T=(e,t)=>{t?f(g.filter(t=>Number(t.type===e))):f(g)},N=(e,t)=>{t?f(g.filter(t=>Number(t.categorie===e))):f(g)},[O,R]=(0,a.useState)(""),_=async()=>{if((null==O?void 0:O.length)>1){let e=await (0,c.V_)(O);f(null!=e?e:[])}else f(g)},[E,M]=(0,a.useState)(!1),[I,Z]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S();let e=JSON.parse(sessionStorage.getItem("cart"));void 0!==e&&b(null!=e?e:[])},[]);let[L,B]=(0,a.useState)(1);return(0,i.jsx)(i.Fragment,{children:null===x?(0,i.jsx)(h(),{name:"chevron-collapse-outline",className:"rotateItem",color:"#1366D9",style:{fontSize:"1.5rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}):(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{cartItems:j,setCart:b}),(0,i.jsx)("img",{alt:"Logo",className:"noTopResponsive",style:{margin:"auto",marginTop:"7rem",borderTop:"1px solid rgba(0,0,0, 0.2)",borderBottom:"1px solid rgba(0,0,0, 0.2)"},src:null==r?void 0:r.image}),(0,i.jsxs)("div",{className:"marketplace displayBlockResponsive",children:[(0,i.jsxs)("div",{className:"sidebarM hideResponsive",children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{style:{marginTop:"auto",width:"100%",padding:"1.1rem",height:"40px",border:"1px solid grey"},onChange:e=>R(e.target.value),type:"text",name:"email",placeholder:"N\xfamero de parte",value:O})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{style:{height:"40px",paddingLeft:"1rem",paddingRight:"1rem",border:"1px solid grey"},onClick:()=>_(),children:"Buscar"})})]}),(0,i.jsx)("h1",{style:{marginTop:"1rem"},children:"Categorias"}),s.FM.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{onChange:e=>N(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t)),(0,i.jsx)("div",{style:{marginTop:".5rem",marginBottom:".5rem",width:"100%",height:"1px",background:"rgba(0,0,0, 0.2)"}}),(0,i.jsx)("h1",{children:"Tipo de pieza"}),s.rM.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{onChange:e=>T(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t)),(0,i.jsx)("div",{style:{marginTop:".5rem",marginBottom:".5rem",width:"100%",height:"1px",background:"rgba(0,0,0, 0.2)"}}),(0,i.jsx)("h1",{children:"Marcas"}),(0,i.jsx)("form",{children:s.PX.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{name:"colors",onChange:e=>w(t,e.target.checked),type:"checkbox",id:"colors",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t))})]}),(0,i.jsxs)("div",{className:"sidebarM showResponsive",style:{display:"none"},children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{style:{marginTop:"auto",width:"100%",padding:"1.1rem",height:"40px",border:"1px solid grey"},onChange:e=>R(e.target.value),type:"text",name:"email",placeholder:"N\xfamero de parte",value:O})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{style:{height:"40px",paddingLeft:"1rem",paddingRight:"1rem",border:"1px solid grey"},onClick:()=>_(),children:"Buscar"})})]}),(0,i.jsxs)("div",{className:"displayFlexResponsive",style:{marginTop:"2rem"},children:[(0,i.jsx)(u.Popover,{onClickOutside:()=>Z(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:I,positions:["bottom","top","left","right"],content:(0,i.jsx)("form",{children:s.FM.map((e,t)=>(0,i.jsxs)("div",{onClick:()=>Z(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{onChange:e=>N(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t))}),children:(0,i.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>Z(!0),children:"Categorias"})}),(0,i.jsx)(u.Popover,{onClickOutside:()=>A(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:P,positions:["bottom","top","left","right"],content:(0,i.jsx)("form",{children:s.rM.map((e,t)=>(0,i.jsxs)("div",{onClick:()=>A(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{onChange:e=>T(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t))}),children:(0,i.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>A(!0),children:"Tipo de pieza"})}),(0,i.jsx)(u.Popover,{onClickOutside:()=>M(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:E,positions:["bottom","top","left","right"],content:(0,i.jsx)("form",{children:s.PX.map((e,t)=>(0,i.jsxs)("div",{onClick:()=>M(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,i.jsx)("input",{name:"colors",onChange:e=>w(t,e.target.checked),type:"checkbox",id:"colors",style:{marginRight:".5rem"}}),(0,i.jsx)("p",{children:e})]},t))}),children:(0,i.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>M(!0),children:"Marcas"})})]})]}),(0,i.jsxs)("div",{className:"contentM",children:[(0,i.jsx)("div",{style:{paddingRight:"auto",paddingLeft:"auto",marginTop:"1rem"},children:(0,i.jsxs)("p",{style:{color:"grey",fontSize:".8rem",marginBottom:"1rem"},children:[" MarketPlace ","> "+(null==r?void 0:r.nameShop)]})}),(0,i.jsx)("div",{style:{marginTop:"0rem",padding:".6rem",width:"100%",borderRadius:".5rem",border:"1px solid rgba(0, 0, 0, 0.2)"},children:(0,i.jsxs)("p",{children:["Se encontraron ",(0,i.jsxs)("span",{style:{fontWeight:"700"},children:[null==x?void 0:x.length," productos"]})]})}),(null==x?void 0:x.length)>0?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"gridItems",children:null==x?void 0:x.slice(18*L-18,18*L).map((e,t)=>(0,i.jsx)(o.Z,{item:e,setCart:b,setAmmountItem:C,ammountItem:k,cart:j},t))}),(0,i.jsx)(m.Z,{setCurrentPage:B,currentPage:L,postPerPage:18,postData:null!=x?x:[]})]}):(0,i.jsx)("div",{children:" "})]})]}),(0,i.jsx)(v.default,{})]})})}},7190:function(e,t,r){"use strict";var i=r(6705);r(575);var n=r(6807),o=r(955),s=r(1550),a=r.n(s),l=r(4033);t.Z=e=>{var t,r;let{item:s,setCart:d,setAmmountItem:c,ammountItem:u,cart:p}=e,[h,m]=(0,o.useState)(!1),v=(0,l.useRouter)();return(0,i.jsxs)("div",{className:"cardMarketPlace",children:[(0,i.jsx)("div",{className:"contentImage",children:(0,i.jsx)("img",{style:{cursor:"pointer",maxHeight:"200px"},onClick:()=>v.push("/marketplace/item?id="+s._id),src:null==s?void 0:s.image,alt:"Item Image"})}),(0,i.jsx)("div",{className:"card-content",children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{style:{fontSize:"1rem",color:"#3e9c35"},children:[" s/. ",null!==(t=Number(null==s?void 0:s.priceSelling).toFixed(2))&&void 0!==t?t:0]}),(0,i.jsxs)("p",{style:{cursor:"pointer"},onClick:()=>v.push("/marketplace/item?id="+s._id),children:[(null==s?void 0:s.name)+" ","  ",null!==(r=null==s?void 0:s.model)&&void 0!==r?r:""]})]}),(0,i.jsx)("div",{children:(0,i.jsx)(n.Popover,{containerStyle:{backgroundColor:"white",padding:"1rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:h,positions:["top","bottom","left","right"],content:(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{value:u,onChange:e=>{var t;return c(Number(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value))},min:"0",max:null==s?void 0:s.ammount,style:{padding:".5rem",border:"1px solid rgba(0,0,0, 0.1)",width:"100%"},type:"number",placeholder:"Cantidad"}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:()=>{if(u>0){let e=[...p,{item:null!=s?s:{},ammount:u}];d(e),sessionStorage.setItem("cart",String(JSON.stringify(e))),m(!1)}},style:{marginTop:"1rem",padding:".5rem",textAlign:"center",width:"100%",background:"green",color:"white"},children:"A\xf1adir al carrito"})]}),children:(0,i.jsx)("div",{style:{padding:".3rem",borderRadius:".5rem",color:"#3662E3",fontSize:"1rem",cursor:"pointer",border:"1px solid rgba(0, 0, 0, 0.1)"},onClick:()=>{m(!h),c(0)},children:(0,i.jsx)(a(),{style:{fontSize:"1.5rem"},name:"cart-outline"})})})})]})})]})}},2071:function(e,t,r){"use strict";var i=r(6705),n=r(1550),o=r.n(n);r(955),t.Z=e=>{let{setCurrentPage:t,currentPage:r,postPerPage:n,postData:s}=e,a=[];for(var l=0;l<=s.length/n;l++)a.push({});console.log(s.length);let d=e=>{t(e)};return(0,i.jsxs)("div",{className:"responsiveNavMarketplace",style:{marginTop:"1rem",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("p",{style:{padding:".5rem",cursor:"pointer"},onClick:()=>{r>1&&t(e=>e-1)},children:(0,i.jsx)(o(),{name:"arrow-back-outline"})}),s.length>0&&a.map((e,t)=>(0,i.jsx)("p",{style:{cursor:"pointer",padding:".5rem"},className:r===t+1&&"active_pagenumber",onClick:()=>d(t+1),children:t+1},t)),(0,i.jsx)("p",{style:{padding:".5rem",cursor:"pointer"},onClick:()=>{r<s.length/n&&t(e=>e+1)},children:(0,i.jsx)(o(),{name:"arrow-forward-outline"})})]})}},947:function(){},6764:function(){},575:function(){},9110:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var i=r(1338);function n(e,t){void 0===t&&(t={});var r,i=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(r=t.doNotParse)&&(r=!i||"{"!==i[0]&&"["!==i[0]&&'"'!==i[0]),!r)try{return JSON.parse(i)}catch(e){}return e}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?i.Q(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){r.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=i.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),n(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var i in this.cookies)r[i]=n(this.cookies[i],e);return r},e.prototype.set=function(e,t,r){var n;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()}}]);