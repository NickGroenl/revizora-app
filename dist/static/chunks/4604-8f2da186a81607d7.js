(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4604],{8e3:function(e,r,t){"use strict";t.d(r,{AU:function(){return getOrders},LV:function(){return createOrder},co:function(){return getOrder},oW:function(){return updateOrderState}});var a=t(980);let createOrder=async e=>{try{var r,t;let o=await a.Z.post("/orderss",{...e});if(console.log(o),(null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.order)!==void 0)return null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.order;return null}catch(e){return null}},getOrders=async e=>{try{var r;let t=await a.Z.get("/orderss/edit",{headers:{token:e}});return console.log(t),null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.orders}catch(e){return null}},updateOrderState=async e=>{try{var r,t;let o=await a.Z.post("/orderss/edit",e);if((null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.order)!==void 0)return null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.order;return null}catch(e){return null}},getOrder=async e=>{try{var r;let t=await a.Z.get("/orderss",{headers:{token:e}});return null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.order}catch(e){return null}}},7911:function(e,r,t){"use strict";t.d(r,{l:function(){return BankOptions},C:function(){return i}});var a=t(6705),o=t(1550),n=t.n(o),l=t(955);let i=["Pendiente","Confirmado","Enviando","Entregado"],BankOptions=()=>{let[e,r]=(0,l.useState)("stockeado.shop.transfer"),copyDirection=()=>{r("Copiado"),navigator.clipboard.writeText("stockeado.shop.transfer"),setTimeout(()=>{r("stockeado.shop.transfer")},3e3)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)("p",{style:{color:"grey"},children:"Para confirmar el pedido necesitamos que transfieras el monto total a la siguiente direcci\xf3n"}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{onClick:()=>copyDirection(),style:{color:"black",border:"1px solid rgba(0,0,0, 0.2)",paddingTop:".5rem",paddingLeft:"1rem",paddingRight:"1rem",display:"flex",borderRadius:".5rem"},children:[e," ",(0,a.jsx)(n(),{style:{margin:".2rem"},name:"clipboard-outline"})]})})]}),(0,a.jsxs)("div",{style:{display:"inline-block"},children:[(0,a.jsx)("img",{src:"/_next/static/media/BBVA_2019.svg.7880810a.png",alt:"LOGOBVVA",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}}),(0,a.jsx)("img",{src:"/_next/static/media/Interbank_logo.svg.5c4fd121.png",alt:"LOGOINTERBANK",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}}),(0,a.jsx)("img",{src:"/_next/static/media/Logo-bcp-vector.svg.80651f66.png",alt:"LOGOBCP",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}}),(0,a.jsx)("img",{src:"/_next/static/media/plin-logo-0C4106153C-seeklogo.com.5b229474.png",alt:"LOGOPLIN",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}}),(0,a.jsx)("img",{src:"/_next/static/media/tunki.436c34c2.png",alt:"LOGOTUNKI",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}}),(0,a.jsx)("img",{src:"/_next/static/media/Yape_text_app_icon.f5385f88.png",alt:"LOGOYAPE",style:{maxWidth:"50px",display:"inline-block",margin:".5rem"}})]})]})}},4604:function(e,r,t){"use strict";t.r(r);var a=t(6705),o=t(955);t(5456);var n=t(1550),l=t.n(n),i=t(6772),d=t(7187),s=t(7911),c=t(7483),u=t(8e3),m=t(4033);r.default=()=>{let e=(0,m.useRouter)(),[r,t]=(0,o.useState)(""),[n,p]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[h,y]=(0,o.useState)(null),[b,f]=(0,o.useState)([]),[v,k]=(0,o.useState)(0),buildForm=async()=>{if(""!==r&&""!==n&&""!==x&&null!==h){if((null==b?void 0:b.length)>0){let t=await (0,u.LV)({name:r,lastname:n,direction:x,maxDate:h,payType:v,state:0,items:b});null!==t&&(c.fn.success("Creaste un pedido, espera que sea confirmado","Creado"),e.push("/marketplace/order?id="+(null==t?void 0:t._id)))}else c.fn.error("No tienes elementos en el carrito.","Error")}else c.fn.error("Completa el formulario.","Error")};return(0,o.useEffect)(()=>{console.log(sessionStorage.getItem("cart")),f(JSON.parse(sessionStorage.getItem("cart")))},[]),(0,a.jsxs)("div",{style:{margin:"0px",padding:"0px"},children:[(0,a.jsxs)("p",{style:{padding:"1rem",color:"#3662E3",cursor:"pointer"},onClick:()=>e.push("/marketplace"),children:[(0,a.jsx)(l(),{name:"chevron-back-outline"})," Marketplace"]}),(0,a.jsx)("div",{className:"payment",children:(0,a.jsxs)("div",{className:"selectPayment",children:[(0,a.jsx)("img",{style:{marginRight:"auto",marginLeft:"auto",maxWidth:"250px"},src:d.Z.src,alt:"LogoStockeado"}),(0,a.jsx)("h1",{style:{marginTop:"1rem",marginBottom:"1rem"},children:"1. Introduce tus datos y la fecha maxima de envio"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("input",{value:r,onChange:e=>t(e.target.value),placeholder:"Nombre",className:"border-stroke dark:text-body-color-dark dark:shadow-two  w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none",style:{background:"transparent"}}),(0,a.jsx)("input",{value:n,onChange:e=>p(e.target.value),placeholder:"Apellido",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border  px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none",style:{background:"transparent"}})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("input",{value:x,onChange:e=>g(e.target.value),placeholder:"Direcci\xf3n",className:"border-stroke dark:text-body-color-dark dark:shadow-two  w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none",style:{background:"transparent"}}),(0,a.jsx)("input",{value:h,onChange:e=>y(e.target.value),placeholder:"Fecha maxima",type:"datetime-local",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border  px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none",style:{background:"transparent"}})]}),(0,a.jsx)("h1",{style:{marginTop:"2rem",marginBottom:"2rem"},children:"2. Selecciona un medio de pago"}),(0,a.jsxs)("div",{className:"cards",children:[(0,a.jsx)("div",{className:"card "+(0===v?"selected":""),onClick:()=>k(0),children:(0,a.jsx)("p",{children:"Transferencia"})}),(0,a.jsx)("div",{className:"carddisabled "+(1===v?"selected":""),onClick:()=>k(1),children:(0,a.jsx)("p",{children:"Tarjeta de credito o debito"})}),(0,a.jsx)("div",{className:"card "+(2===v?"selected":""),onClick:()=>k(2),children:(0,a.jsx)("p",{children:"Efectivo"})})]}),0===v?(0,a.jsx)(s.l,{}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("h1",{style:{marginTop:"2rem",marginBottom:"2rem"},children:"3. Revisa tu orden"}),null==b?void 0:b.map((e,r)=>{var t,o,n,i;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",borderBottom:"1px solid rgba(220, 220, 220, .3)"},children:[(0,a.jsx)("img",{style:{width:"105px",height:"105px"},src:null==e?void 0:null===(t=e.item)||void 0===t?void 0:t.image,alt:"Product Image"}),(0,a.jsx)("p",{className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",children:(0,a.jsxs)("p",{style:{minWidth:"250px",margin:"auto"},children:[(null==e?void 0:null===(o=e.item)||void 0===o?void 0:o.name)+" ","  ",null==e?void 0:null===(n=e.item)||void 0===n?void 0:n.model]})}),(0,a.jsx)("p",{className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",children:String(null==e?void 0:e.ammount)}),(0,a.jsxs)("p",{className:"dark:text-body-color-dark mb-1 text-base !leading-relaxed text-body-color sm:text-sm md:text-sm",style:{marginLeft:"4rem",maxWidth:"100px"},children:["s/. ",Number(null==e?void 0:null===(i=e.item)||void 0===i?void 0:i.price).toFixed(2)]}),(0,a.jsx)("button",{onClick:()=>{f(null==b?void 0:b.filter((e,t)=>r!==t)),sessionStorage.setItem("cart",JSON.stringify(null==b?void 0:b.filter((e,t)=>r!==t)))},style:{color:"#ff6347",marginLeft:"2rem",minWidth:"100px"},children:(0,a.jsx)(l(),{name:"trash-outline",color:"#ff6347"})})]})},r)}),(0,a.jsx)("p",{style:{color:"grey",textAlign:"center"},children:(null==b?void 0:b.length)===0?"No encontramos nada":""}),(0,a.jsxs)("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("p",{style:{fontSize:"1.1rem"},children:"Total"}),(0,a.jsxs)("p",{children:["s/. ",Number((0,i.m)(b)).toFixed(2)]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>buildForm(),style:{padding:".5rem",textAlign:"center",width:"100%",background:"linear-gradient(180deg, #127FFF 0%, #3662E3 100%)",color:"white"},children:"Confirmar"}),(0,a.jsx)("div",{style:{textAlign:"center",width:"100%",color:"green",marginTop:"3rem",fontSize:"2rem"},children:(0,a.jsx)(l(),{style:{cursor:"pointer"},name:"logo-whatsapp"})})]})})]})}},5456:function(){},7187:function(e,r){"use strict";r.Z={src:"/_next/static/media/logopreferente.bbc72056.png",height:200,width:640,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAYElEQVR42g3HOxKCMBSG0e8nN+Irlkgtu3C0Y+duwYYZVkHBmwROd/SsPkFyArpr8c6BKX9U3MvaA4tJ+qa01Znd2rj2l1N4eTuXY9yGwvnQGOgH8S9ljhRngQcZR4BxB15DGcQuhSZBAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}}}]);