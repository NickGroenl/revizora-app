(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5544],{4482:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},o=e.split(n),s=(t||{}).decode||i,a=0;a<o.length;a++){var l=o[a],d=l.indexOf("=");if(!(d<0)){var c=l.substr(0,d).trim(),u=l.substr(++d,l.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),void 0==r[c]&&(r[c]=function(e,t){try{return t(e)}catch(t){return e}}(u,s))}}return r},t.q=function(e,t,i){var n=i||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!o.test(a))throw TypeError("argument val is invalid");var l=e+"="+a;if(null!=n.maxAge){var d=n.maxAge-0;if(isNaN(d)||!isFinite(d))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(d)}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var i=decodeURIComponent,r=encodeURIComponent,n=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},5609:function(e,t,i){"use strict";i.d(t,{$v:function(){return getInventory},Dk:function(){return editInventory},RF:function(){return getMarketPlace},RZ:function(){return createManyInventories},Rd:function(){return createInventory},SI:function(){return getInventoryById},qU:function(){return deleteInventory}});var r=i(9110),n=i(980);let deleteInventory=async e=>{try{var t;let i=await n.Z.get("/inventory/edit",{headers:{id:e}});if((null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.deleted)!==void 0)return!0;return!1}catch(e){return!1}},createInventory=async e=>{try{var t;let i=await n.Z.post("/inventory",{...e});if((null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},getInventoryById=async e=>{try{var t,i;let r=await n.Z.get("/inventory/load",{headers:{id:e}});if(console.log(r),(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.item)!==void 0)return null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.item;return null}catch(e){return null}},createManyInventories=async e=>{try{var t;let i=await n.Z.post("/inventory/load",{items:[...e]});if((null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},editInventory=async e=>{try{var t;let i=await n.Z.post("/inventory/edit",{...e});if((null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.item)!==void 0)return!0;return!1}catch(e){return!1}},getInventory=async()=>{try{var e;let t=new r.Z,i=t.get("access_token"),o=await n.Z.get("/inventory",{headers:{token:i}});return null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.items}catch(e){return null}},getMarketPlace=async e=>{try{let t=await n.Z.get("/inventory/marketplace",{headers:{id:e}});return null==t?void 0:t.data}catch(e){return null}}},3327:function(e,t,i){"use strict";i.d(t,{Kb:function(){return findRandomProducts},V_:function(){return findProduct},li:function(){return findMostViewedShops}});var r=i(980);let findProduct=async e=>{try{var t,i;let n=await r.Z.get("/marketplacee",{headers:{token:e}});if((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.items)!==void 0)return null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.items;return null}catch(e){return null}},findRandomProducts=async()=>{try{var e,t;let i=await r.Z.get("/marketplacee/random");if((null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.items)!==void 0)return null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.items;return null}catch(e){return null}},findMostViewedShops=async()=>{try{var e,t;let i=await r.Z.get("/marketplacee/mostviewed");if((null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.items)!==void 0)return null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.items;return null}catch(e){return null}}},5544:function(e,t,i){"use strict";i.r(t);var r=i(6705),n=i(5609),o=i(7284),s=i(2181),a=i(955);i(1682);var l=i(6772);i(7419);var d=i(4033),c=i(3327),u=i(6807),p=i(1550),h=i.n(p);t.default=()=>{let e=(0,d.useSearchParams)(),t=e.get("id"),[i,p]=(0,a.useState)(),[m,v]=(0,a.useState)([]),[g,y]=(0,a.useState)(null),[f,x]=(0,a.useState)([]),[k,j]=(0,a.useState)(0),toUser=async()=>{var e,i;let r=await (0,n.RF)(t);v(null!==(e=null==r?void 0:r.items)&&void 0!==e?e:[]),y(null!==(i=null==r?void 0:r.items)&&void 0!==i?i:[]),p(null==r?void 0:r.user)},filterByBrand=(e,t)=>{t?y(m.filter(t=>Number(t.brand===e))):y(m)},filterByType=(e,t)=>{t?y(m.filter(t=>Number(t.type===e))):y(m)},filterByCategorie=(e,t)=>{t?y(m.filter(t=>Number(t.categorie===e))):y(m)},[b,C]=(0,a.useState)(""),findProductAndSet=async()=>{if((null==b?void 0:b.length)>1){let e=await (0,c.V_)(b);y(null!=e?e:[])}else y(m)},[S,w]=(0,a.useState)(!1),[T,_]=(0,a.useState)(!1),[O,N]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{toUser();let e=JSON.parse(sessionStorage.getItem("cart"));void 0!==e&&x(null!=e?e:[])},[]),(0,r.jsx)(r.Fragment,{children:null===g?(0,r.jsx)(h(),{name:"chevron-collapse-outline",className:"rotateItem",color:"#1366D9",style:{fontSize:"1.5rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}):(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{cartItems:f,setCart:x}),(0,r.jsx)("img",{alt:"Logo",className:"noTopResponsive",style:{margin:"auto",marginTop:"7rem",borderTop:"1px solid rgba(0,0,0, 0.2)",borderBottom:"1px solid rgba(0,0,0, 0.2)"},src:null==i?void 0:i.image}),(0,r.jsxs)("div",{className:"marketplace displayBlockResponsive",children:[(0,r.jsxs)("div",{className:"sidebarM hideResponsive",children:[(0,r.jsxs)("div",{style:{display:"flex"},children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{style:{marginTop:"auto",width:"100%",padding:"1.1rem",height:"40px",border:"1px solid grey"},onChange:e=>C(e.target.value),type:"text",name:"email",placeholder:"Buscar por SKU",value:b})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{style:{height:"40px",paddingLeft:"1rem",paddingRight:"1rem",border:"1px solid grey"},onClick:()=>findProductAndSet(),children:"Buscar"})})]}),(0,r.jsx)("h1",{style:{marginTop:"1rem"},children:"Categorias"}),s.FM.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{onChange:e=>filterByCategorie(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t)),(0,r.jsx)("div",{style:{marginTop:".5rem",marginBottom:".5rem",width:"100%",height:"1px",background:"rgba(0,0,0, 0.2)"}}),(0,r.jsx)("h1",{children:"Tipo de pieza"}),s.rM.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{onChange:e=>filterByType(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t)),(0,r.jsx)("div",{style:{marginTop:".5rem",marginBottom:".5rem",width:"100%",height:"1px",background:"rgba(0,0,0, 0.2)"}}),(0,r.jsx)("h1",{children:"Marcas"}),(0,r.jsx)("form",{children:s.PX.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{name:"colors",onChange:e=>filterByBrand(t,e.target.checked),type:"checkbox",id:"colors",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t))})]}),(0,r.jsxs)("div",{className:"sidebarM showResponsive",style:{display:"none"},children:[(0,r.jsxs)("div",{style:{display:"flex"},children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{style:{marginTop:"auto",width:"100%",padding:"1.1rem",height:"40px",border:"1px solid grey"},onChange:e=>C(e.target.value),type:"text",name:"email",placeholder:"Buscar por SKU",value:b})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{style:{height:"40px",paddingLeft:"1rem",paddingRight:"1rem",border:"1px solid grey"},onClick:()=>findProductAndSet(),children:"Buscar"})})]}),(0,r.jsxs)("div",{className:"displayFlexResponsive",style:{marginTop:"2rem"},children:[(0,r.jsx)(u.Popover,{onClickOutside:()=>_(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:T,positions:["bottom","top","left","right"],content:(0,r.jsx)("form",{children:s.FM.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>_(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{onChange:e=>filterByCategorie(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t))}),children:(0,r.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>_(!0),children:"Categorias"})}),(0,r.jsx)(u.Popover,{onClickOutside:()=>N(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:O,positions:["bottom","top","left","right"],content:(0,r.jsx)("form",{children:s.rM.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>N(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{onChange:e=>filterByType(t,e.target.checked),type:"checkbox",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t))}),children:(0,r.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>N(!0),children:"Tipo de pieza"})}),(0,r.jsx)(u.Popover,{onClickOutside:()=>w(!1),containerStyle:{backgroundColor:"white",padding:"1.3rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:S,positions:["bottom","top","left","right"],content:(0,r.jsx)("form",{children:s.PX.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>w(!1),style:{cursor:"pointer",display:"flex",marginTop:".4rem"},children:[(0,r.jsx)("input",{name:"colors",onChange:e=>filterByBrand(t,e.target.checked),type:"checkbox",id:"colors",style:{marginRight:".5rem"}}),(0,r.jsx)("p",{children:e})]},t))}),children:(0,r.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>w(!0),children:"Marcas"})})]})]}),(0,r.jsxs)("div",{className:"contentM",children:[(0,r.jsx)("div",{style:{paddingRight:"auto",paddingLeft:"auto",marginTop:"1rem"},children:(0,r.jsxs)("p",{style:{color:"grey",fontSize:".8rem",marginBottom:"1rem"},children:[" MarketPlace ","> "+(null==i?void 0:i.nameShop)]})}),(0,r.jsx)("div",{style:{marginTop:"0rem",padding:".6rem",width:"100%",borderRadius:".5rem",border:"1px solid rgba(0, 0, 0, 0.2)"},children:(0,r.jsxs)("p",{children:["Se encontraron ",(0,r.jsxs)("span",{style:{fontWeight:"700"},children:[null==g?void 0:g.length," productos"]})]})}),(0,r.jsx)("div",{className:"gridItems",children:null==g?void 0:g.map((e,t)=>(0,r.jsx)(o.Z,{item:e,setCart:x,setAmmountItem:j,ammountItem:k,cart:f},t))})]})]})]})})}},7284:function(e,t,i){"use strict";var r=i(6705);i(9963);var n=i(6807),o=i(955),s=i(1550),a=i.n(s),l=i(4033);t.Z=e=>{var t,i;let{item:s,setCart:d,setAmmountItem:c,ammountItem:u,cart:p}=e,[h,m]=(0,o.useState)(!1),v=(0,l.useRouter)();return(0,r.jsxs)("div",{className:"cardMarketPlace",children:[(0,r.jsx)("div",{className:"contentImage",children:(0,r.jsx)("img",{style:{cursor:"pointer",maxHeight:"200px"},onClick:()=>v.push("/marketplace/item?id="+s._id),src:null==s?void 0:s.image,alt:"Item Image"})}),(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"1rem",color:"#3e9c35"},children:[" s/. ",null!==(t=Number(null==s?void 0:s.priceSelling).toFixed(2))&&void 0!==t?t:0]}),(0,r.jsxs)("p",{style:{cursor:"pointer"},onClick:()=>v.push("/marketplace/item?id="+s._id),children:[(null==s?void 0:s.name)+" ","  ",null!==(i=null==s?void 0:s.model)&&void 0!==i?i:""]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(n.Popover,{containerStyle:{backgroundColor:"white",padding:"1rem",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:".5rem"},isOpen:h,positions:["top","bottom","left","right"],content:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{value:u,onChange:e=>{var t;return c(Number(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value))},min:"0",max:null==s?void 0:s.ammount,style:{padding:".5rem",border:"1px solid rgba(0,0,0, 0.1)",width:"100%"},type:"number",placeholder:"Cantidad"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>{if(u>0){let e=[...p,{item:null!=s?s:{},ammount:u}];d(e),sessionStorage.setItem("cart",String(JSON.stringify(e))),m(!1)}},style:{marginTop:"1rem",padding:".5rem",textAlign:"center",width:"100%",background:"green",color:"white"},children:"A\xf1adir al carrito"})]}),children:(0,r.jsx)("div",{style:{padding:".3rem",borderRadius:".5rem",color:"#3662E3",fontSize:"1rem",cursor:"pointer",border:"1px solid rgba(0, 0, 0, 0.1)"},onClick:()=>{m(!h),c(0)},children:(0,r.jsx)(a(),{style:{fontSize:"1.5rem"},name:"cart-outline"})})})})]})})]})}},2181:function(e,t,i){"use strict";i.d(t,{FM:function(){return n},PX:function(){return r},rM:function(){return o}});let r=["Toyota","Nissan","Hyundai","BMW","Mercedes Benz","Kia","Chevrolet","Mitsubishi","Peugeot","Suzuki","Mazda","Volkswagen","Audi","Jeep","Land Rover","Volvo","Mini","Porsche","Geely","Otro"],n=["Partes de motor","Neumaticos","Otro"],o=["Genuino","Original","Alternativo","Segunda"]},1682:function(){},7419:function(){},9963:function(){},9110:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var r=i(4482);function readCookie(e,t){void 0===t&&(t={});var i,r=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(i=t.doNotParse)&&(i=!r||"{"!==r[0]&&"["!==r[0]&&'"'!==r[0]),!i)try{return JSON.parse(r)}catch(e){}return e}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=function(){function Cookies(e,t){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?r.Q(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){i.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return Cookies.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.Q(document.cookie,e))},Cookies.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},Cookies.prototype.get=function(e,t,i){return void 0===t&&(t={}),this._updateBrowserValues(i),readCookie(this.cookies[e],t)},Cookies.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var i={};for(var r in this.cookies)i[r]=readCookie(this.cookies[r],e);return i},Cookies.prototype.set=function(e,t,i){var n;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=__assign(__assign({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,t,i)),this._emitChange({name:e,value:t,options:i})},Cookies.prototype.remove=function(e,t){var i=t=__assign(__assign({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=__assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.q(e,"",i)),this._emitChange({name:e,value:void 0,options:t})},Cookies.prototype.addChangeListener=function(e){this.changeListeners.push(e)},Cookies.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},Cookies}()}}]);